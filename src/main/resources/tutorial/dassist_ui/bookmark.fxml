<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane fx:id="rootPane" minHeight="720" minWidth="1024" prefHeight="800" prefWidth="1280" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1">

    <!-- TOP BAR -->
    <top>
        <HBox fx:id="topBar" alignment="CENTER_LEFT" spacing="10" styleClass="top-bar">
            <children>

                <ImageView fx:id="appLogo" fitHeight="40" fitWidth="40">
                    <image><Image url="@images/logo.png" /></image>
                </ImageView>

                <VBox fx:id="programInfo" spacing="0">
                    <children>
                        <Label fx:id="programName" styleClass="program-name" text="D-Assist">
                     <font>
                        <Font name="Arial Rounded MT Bold" size="12.0" />
                     </font></Label>
                        <Label fx:id="programTagline" styleClass="tagline" text="Your AI Diabetes Assistant">
                     <font>
                        <Font name="Arial Rounded MT Bold" size="12.0" />
                     </font></Label>
                    </children>
                </VBox>

                <Pane HBox.hgrow="ALWAYS" />
                <Button fx:id="settingsBtn" styleClass="settings-button" text="Settings">
               <font>
                  <Font name="Arial Rounded MT Bold" size="14.0" />
               </font></Button>

            </children>
            <padding><Insets bottom="10" left="18" right="18" top="10" /></padding>
        </HBox>
    </top>

    <!-- LEFT FULL SIDEBAR -->
    <left>
        <ScrollPane fx:id="leftScroll" fitToWidth="true">
            <content>

                <fx:define>
                    <ToggleGroup fx:id="tg" />
                </fx:define>

                <VBox fx:id="sidebar" spacing="12" styleClass="sidebar">

                    <!-- Tabs -->
                    <HBox fx:id="tabsRow" alignment="CENTER" spacing="8">
                        <children>
                            <ToggleButton fx:id="tabChat" text="Chat">
                                <toggleGroup>
                                    <ToggleGroup fx:id="tg" />
                                </toggleGroup>
                        <font>
                           <Font name="Arial Rounded MT Bold" size="12.0" />
                        </font></ToggleButton>
                            <ToggleButton fx:id="tabBookmark" text="Bookmark" toggleGroup="$tg">
                        <font>
                           <Font name="Arial Rounded MT Bold" size="12.0" />
                        </font></ToggleButton>
                            <ToggleButton fx:id="tabCalc" text="Calculator" toggleGroup="$tg">
                        <font>
                           <Font name="Arial Rounded MT Bold" size="12.0" />
                        </font></ToggleButton>
                        </children>
                    </HBox>

                    <TextField fx:id="searchHistory" promptText="Search history">
                  <font>
                     <Font name="Arial Rounded MT Bold" size="12.0" />
                  </font></TextField>
                    <Label styleClass="tagline" text="Quick categories">
                  <font>
                     <Font name="Arial Rounded MT Bold" size="12.0" />
                  </font></Label>

                    <ListView fx:id="categoryList" />

                </VBox>
            </content>
        </ScrollPane>
    </left>

    <!-- RIGHT: EMPTY BOOKMARK STATE -->
    <center>
        <VBox fx:id="emptyStateBox" alignment="TOP_CENTER" spacing="20" style="-fx-text-fill: red;" styleClass="empty-bookmark-container">
            <padding><Insets left="40" right="40" top="100" /></padding>

            <children>

                <Label fx:id="emptyHeader" prefHeight="95.0" prefWidth="372.0" style="-fx-text-fill: grey;" styleClass="empty-header" text="You havenâ€™t saved any bookmarks yet" textAlignment="CENTER" wrapText="true">
                    <font>
                        <Font name="Arial Rounded MT Bold" size="22.0" />
                    </font></Label>

                <TextFlow fx:id="bookmarkInstruction" maxWidth="360.0" prefHeight="42.0" prefWidth="360.0" style="-fx-fill:: grey;" styleClass="instruction-flow" textAlignment="CENTER">

                    <children>

                        <Text style="-fx-fill: grey;" text="To save an important AI answer, please click the ">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="22.0" />
                            </font></Text>

                        <ImageView fx:id="bookmarkInlineIcon" fitHeight="27.0" fitWidth="27.0" style="-fx-effect: innershadow(one-pass-box, grey, 0, 0, 0, 0);" styleClass="inline-bookmark-icon">
                            <image><Image url="@images/bookmark.png" /></image>
                        </ImageView>

                        <Text style="-fx-fill: grey;" text=" icon below the answer provided in the Chat page." wrappingWidth="1.0">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="22.0" />
                            </font></Text>

                    </children>

                </TextFlow>
            </children>
        </VBox>
    </center>

</BorderPane>
